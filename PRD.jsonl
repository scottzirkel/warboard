{"id":"limits-001","category":"wargear-limits","phase":"phase-1","description":"Add maxModels field to loadout choice data structure","passes":true,"acceptance":["custodes.json has maxModels field on vexilla choice","maxModels: 1 limits vexilla to one model","Data structure documented in CLAUDE.md"],"dependencies":[]}
{"id":"limits-002","category":"wargear-limits","phase":"phase-1","description":"Add validation logic for maxModels in weapon count updates","passes":true,"acceptance":["updateWeaponCount enforces maxModels constraint","Cannot increment past maxModels limit","Validation works for all constrained options"],"dependencies":["limits-001"]}
{"id":"limits-003","category":"wargear-limits","phase":"phase-2","description":"Update UI to show maxModels limits and disable controls","passes":true,"acceptance":["Max limit indicator shown next to constrained options","Increment button disabled when limit reached","Tooltip explains the restriction"],"dependencies":["limits-002"]}
{"id":"limits-004","category":"wargear-limits","phase":"phase-2","description":"Add list validation for maxModels on save and play mode entry","passes":true,"acceptance":["Validation runs on list save","Validation runs before entering Play Mode","Clear error message shown if limits violated"],"dependencies":["limits-002"]}
{"id":"patterns-001","category":"wargear-patterns","phase":"phase-1","description":"Add pattern field to loadout options data structure","passes":true,"acceptance":["custodes.json loadout options have pattern field","pattern values: replacement or addition","Custodian Guard main-weapon is replacement, vexilla is addition"],"dependencies":[]}
{"id":"patterns-002","category":"wargear-patterns","phase":"phase-1","description":"Add paired field to choices for combined loadouts","passes":true,"acceptance":["Sentinel Blade + Shield choice has paired: true","Data structure supports grouping two items as one choice","Paired choices documented in CLAUDE.md"],"dependencies":["patterns-001"]}
{"id":"patterns-003","category":"wargear-patterns","phase":"phase-2","description":"Update weapon display logic for replacement vs addition patterns","passes":true,"acceptance":["Replacement pattern hides unselected weapons","Addition pattern shows equipped items alongside base weapons","getEquippedWeapons function handles both patterns"],"dependencies":["patterns-001"]}
{"id":"patterns-004","category":"wargear-patterns","phase":"phase-2","description":"Update UI labels to indicate pattern type","passes":true,"acceptance":["Replacement options show as dropdown with Replace with label","Addition options show as checkbox-style add controls","UI clearly distinguishes pattern types"],"dependencies":["patterns-003"]}
{"id":"patterns-005","category":"wargear-patterns","phase":"phase-2","description":"Handle paired loadouts equipping both items together","passes":true,"acceptance":["Selecting paired choice equips both items","Unselecting removes both items","Combined name shown in UI"],"dependencies":["patterns-002","patterns-003"]}
{"id":"abilities-001","category":"wargear-abilities","phase":"phase-1","description":"Add modifiers array to weapons that grant stat bonuses","passes":true,"acceptance":["Sentinel Blade weapon has modifiers array","Praesidium Shield +1W modifier added with source field","Modifier uses existing format: stat, operation, value, scope"],"dependencies":["patterns-002"]}
{"id":"abilities-002","category":"wargear-abilities","phase":"phase-2","description":"Add isWeaponEquipped helper function","passes":true,"acceptance":["Function checks if weapon is equipped based on loadoutGroup","Returns true for weapons without loadoutGroup","Works with weaponCounts state"],"dependencies":["patterns-003"]}
{"id":"abilities-003","category":"wargear-abilities","phase":"phase-2","description":"Update collectModifiers to include weapon modifiers","passes":true,"acceptance":["collectModifiers checks equipped weapons for modifiers","Weapon modifiers with model or unit scope are collected","Modifiers only apply when weapon is equipped"],"dependencies":["abilities-001","abilities-002"]}
{"id":"abilities-004","category":"wargear-abilities","phase":"phase-3","description":"Update stat display to show weapon modifier sources in tooltips","passes":true,"acceptance":["Tooltip shows Praesidium Shield as source of +1W","Multiple modifier sources listed if applicable","Clear formatting of modifier sources"],"dependencies":["abilities-003"]}
{"id":"abilities-005","category":"wargear-abilities","phase":"phase-3","description":"Add wargear abilities section to Quick Reference panel","passes":true,"acceptance":["Quick Reference shows wargear stat modifiers","Praesidium Shield: Bearer gains +1 Wound displayed","Section only shows if wargear abilities exist"],"dependencies":["abilities-003"]}
{"id":"leader-001","category":"leader-attachment","phase":"phase-1","description":"Add eligibleUnits array to leader abilities in data","passes":true,"acceptance":["Shield-Captain leader ability has eligibleUnits array","eligibleUnits contains custodian-guard and custodian-wardens","Blade Champion leader ability updated similarly"],"dependencies":[]}
{"id":"leader-002","category":"leader-attachment","phase":"phase-1","description":"Add attachedLeader field to list unit structure","passes":true,"acceptance":["addUnitToList includes attachedLeader: null","attachedLeader structure is { unitIndex: number } or null","Saved lists include attachedLeader field"],"dependencies":[]}
{"id":"leader-003","category":"leader-attachment","phase":"phase-2","description":"Add getAvailableLeaders function","passes":true,"acceptance":["Returns list of eligible unattached leaders for a unit","Filters based on leader eligibleUnits array","Excludes leaders already attached to other units"],"dependencies":["leader-001","leader-002"]}
{"id":"leader-004","category":"leader-attachment","phase":"phase-2","description":"Add attachLeader and detachLeader functions","passes":true,"acceptance":["attachLeader detaches leader from previous unit first","attachLeader sets attachedLeader on target unit","detachLeader sets attachedLeader to null"],"dependencies":["leader-003"]}
{"id":"leader-005","category":"leader-attachment","phase":"phase-2","description":"Update collectModifiers to include attached leader modifiers","passes":true,"acceptance":["Leader enhancement modifiers apply to attached unit","Modifiers removed when leader detached","Works with existing modifier system"],"dependencies":["leader-004"]}
{"id":"leader-006","category":"leader-attachment","phase":"phase-3","description":"Add leader attachment dropdown UI to unit cards","passes":true,"acceptance":["Dropdown shows available leaders for eligible units","Selecting leader calls attachLeader function","None option detaches current leader"],"dependencies":["leader-004"]}
{"id":"leader-007","category":"leader-attachment","phase":"phase-3","description":"Update unit display for units with attached leaders","passes":true,"acceptance":["Unit name shows combined format: Custodian Guard + Shield-Captain","Leader weapons shown in weapon list","Combined model count displayed"],"dependencies":["leader-006"]}
{"id":"leader-008","category":"leader-attachment","phase":"phase-3","description":"Hide attached leaders from main army list display","passes":true,"acceptance":["Attached leaders not shown as separate units in Play Mode","Build Mode still shows all units for editing","Visual indicator that leader is attached elsewhere"],"dependencies":["leader-007"]}
{"id":"leader-009","category":"leader-attachment","phase":"phase-3","description":"Add separate wound tracking for attached leaders","passes":true,"acceptance":["Leader wounds tracked separately from unit wounds","UI shows both unit and leader wound pools","Damage can be assigned to either"],"dependencies":["leader-007"]}
{"id":"leader-010","category":"leader-attachment","phase":"phase-4","description":"Add validation rules for leader attachment","passes":true,"acceptance":["Leader can only attach to one unit","Unit can only have one leader","Validation prevents invalid attachments"],"dependencies":["leader-004"]}
{"id":"mixed-001","category":"mixed-weapons","phase":"phase-3","description":"Group weapons by loadout choice in Play Mode unit display","passes":true,"acceptance":["Weapons grouped by loadout choice (e.g., Guardian Spear group, Sentinel Blade group)","Each group shows model count prefix (3×, 2×)","Groups visually distinct from each other"],"dependencies":["patterns-003"]}
{"id":"mixed-002","category":"mixed-weapons","phase":"phase-3","description":"Separate ranged and melee weapon sections within each loadout group","passes":true,"acceptance":["Each loadout group has Ranged and Melee subsections","Subsections shown even if weapons are identical across groups","Clear visual hierarchy: Loadout > Ranged/Melee > Weapon stats"],"dependencies":["mixed-001"]}
{"id":"mixed-003","category":"mixed-weapons","phase":"phase-3","description":"Make loadout groups collapsible in Play Mode","passes":true,"acceptance":["Click loadout group header to collapse/expand","Collapsed state shows just the header (e.g., ▶ 3× Guardian Spear)","Expanded state shows ranged/melee subsections"],"dependencies":["mixed-001"]}
{"id":"mixed-004","category":"mixed-weapons","phase":"phase-3","description":"Track activation state per loadout group","passes":true,"acceptance":["Collapsed groups indicate those models have activated","Visual difference between collapsed-by-user and collapsed-as-activated","State resets each battle round"],"dependencies":["mixed-003"]}
{"id":"tyranids-001","category":"tyranids-data","phase":"phase-1","description":"Create tyranids.json with faction metadata and army rules","passes":true,"acceptance":["data/tyranids.json exists with faction: Tyranids","Army rules include Synapse with 6\" range bonus description","Army rules include Shadow in the Warp once-per-battle ability","lastUpdated set to 2026-01"],"dependencies":[]}
{"id":"tyranids-002","category":"tyranids-data","phase":"phase-1","description":"Add Termagants battleline unit to tyranids.json","passes":true,"acceptance":["Termagants unit with points 60/120 for 10/20 models","Stats: M6 T3 SV5+ W1 LD8+ OC2","Fleshborer ranged weapon (18\" A1 BS4+ S5 AP0 D1)","Devourer and Spinefists weapon options","Skulking Horrors ability","Keywords include Infantry, Battleline, Great Devourer, Endless Multitude"],"dependencies":["tyranids-001"]}
{"id":"tyranids-003","category":"tyranids-data","phase":"phase-1","description":"Add Hormagaunts battleline unit to tyranids.json","passes":true,"acceptance":["Hormagaunts unit with points 65/130 for 10/20 models","Stats: M10 T3 SV5+ W1 LD8+ OC2","Hormagaunt talons melee weapon (A3 WS4+ S3 AP-1 D1)","Bounding Leap ability (charge after Advancing)","Keywords include Infantry, Battleline, Great Devourer, Endless Multitude"],"dependencies":["tyranids-001"]}
{"id":"tyranids-004","category":"tyranids-data","phase":"phase-1","description":"Add Genestealers elite unit to tyranids.json","passes":true,"acceptance":["Genestealers unit with points 75/140 for 5/10 models","Stats: M8 T4 SV5+ W2 LD7+ OC1 with 5+ invuln","Genestealer claws melee weapon (A4 WS2+ S4 AP-2 D1)","Scouts 8\" ability","Vanguard Predator ability (re-roll 1s near objectives)","Keywords include Infantry, Great Devourer, Vanguard Invader"],"dependencies":["tyranids-001"]}
{"id":"tyranids-005","category":"tyranids-data","phase":"phase-2","description":"Add Broodlord character to tyranids.json","passes":true,"acceptance":["Broodlord unit with points 80 for 1 model","Stats: M8 T5 SV4+ W6 LD7+ OC1 with 4+ invuln","Broodlord claws melee weapon (A5 WS2+ S6 AP-2 D2 with Twin-linked, Devastating Wounds)","Leader ability with eligibleUnits: genestealers","Scouts 8\" and Hypnotic Gaze abilities","Keywords include Infantry, Character, Great Devourer, Synapse"],"dependencies":["tyranids-004"]}
{"id":"tyranids-006","category":"tyranids-data","phase":"phase-2","description":"Add Tyranid Warriors unit to tyranids.json","passes":true,"acceptance":["Tyranid Warriors unit with points 65/130 for 3/6 models","Stats: M6 T5 SV4+ W3 LD7+ OC2","Multiple weapon options via loadoutOptions: Deathspitter, Devourer, Barbed Strangler, Venom Cannon","Scything talons melee weapon","Synapse keyword and Shadow in the Warp ability","Keywords include Infantry, Great Devourer, Synapse"],"dependencies":["tyranids-001"]}
{"id":"tyranids-007","category":"tyranids-data","phase":"phase-2","description":"Add Hive Tyrant monster to tyranids.json","passes":true,"acceptance":["Hive Tyrant unit with points 195 for 1 model","Stats: M8 T10 SV2+ W10 LD7+ OC3 with 4+ invuln","Heavy venom cannon and Stranglethorn cannon ranged options","Monstrous bonesword/lash whip and Scything talons melee","Leader ability with eligibleUnits: tyrant-guard","Synapse keyword","Keywords include Monster, Character, Great Devourer, Synapse"],"dependencies":["tyranids-001"]}
{"id":"tyranids-008","category":"tyranids-data","phase":"phase-2","description":"Add Carnifexes monster unit to tyranids.json","passes":true,"acceptance":["Carnifexes unit with points 90/180 for 1/2 models","Stats: M8 T9 SV2+ W8 LD8+ OC3","Multiple weapon loadout options: Crushing claws, Scything talons, Heavy venom cannon, Stranglethorn cannon","Deadly Demise 1 ability","Blistering Assault ability (move after taking wounds)","Keywords include Monster, Great Devourer"],"dependencies":["tyranids-001"]}
{"id":"tyranids-009","category":"tyranids-data","phase":"phase-3","description":"Add Invasion Fleet detachment to tyranids.json","passes":true,"acceptance":["Invasion Fleet detachment with Hyper-adaptations rule","Three adaptation choices: Swarming Instincts, Hyper-aggression, Hive Predators","6 stratagems including Rapid Regeneration, Adrenal Surge, Endless Swarm","4 enhancements: Alien Cunning (30pts), Perfectly Adapted (15pts), Synaptic Linchpin (20pts), Adaptive Biology (25pts)"],"dependencies":["tyranids-001"]}
{"id":"tyranids-010","category":"tyranids-data","phase":"phase-3","description":"Add Unending Swarm detachment to tyranids.json","passes":true,"acceptance":["Unending Swarm detachment with Insurmountable Odds rule","Surge movement mechanic for Endless Multitude units","Key stratagems including Unending Waves (return destroyed unit)","4 enhancements: Relentless Hunger, Naturalised Camouflage, Piercing Talons, Adrenalised Onslaught"],"dependencies":["tyranids-001"]}
{"id":"tyranids-011","category":"tyranids-data","phase":"phase-3","description":"Add Crusher Stampede detachment to tyranids.json","passes":true,"acceptance":["Crusher Stampede detachment with Enraged Behemoths rule","Bonuses based on Monster strength level","Key stratagems including Massive Impact (mortal wounds on charge)","4 enhancements: Ominous Presence, Enraged Reserves, Null Nodules, Monstrous Nemesis"],"dependencies":["tyranids-001"]}
{"id":"tyranids-012","category":"tyranids-data","phase":"phase-4","description":"Add Tyranid keyword glossary entries","passes":true,"acceptance":["Synapse keyword defined in unit glossary","Shadow in the Warp defined","Endless Multitude keyword defined","Great Devourer keyword defined"],"dependencies":["tyranids-001"]}
{"id":"tyranids-013","category":"tyranids-data","phase":"phase-4","description":"Enable Tyranids faction in main.js","passes":true,"acceptance":["disabled: true removed from Tyranids entry in availableArmies","App can switch to Tyranids faction without errors","Build Mode shows Tyranid units"],"dependencies":["tyranids-002","tyranids-003","tyranids-004","tyranids-005","tyranids-006","tyranids-007","tyranids-008","tyranids-009"]}
{"id":"tyranids-014","category":"tyranids-data","phase":"phase-4","description":"Add additional Tyranid units for variety","passes":true,"acceptance":["Gargoyles flying infantry unit","Lictor infiltrator unit","Zoanthropes Synapse unit","At least 12 total units in tyranids.json"],"dependencies":["tyranids-013"]}
{"id":"nextjs-001","category":"nextjs-migration","phase":"phase-1","description":"Initialize Next.js project and remove Alpine.js files","passes":true,"acceptance":["Next.js 14+ initialized with App Router","TypeScript configured","Old files removed: src/main.js, api.php, vite.config.js","package.json updated with Next.js dependencies","npm run dev starts Next.js server"],"dependencies":[]}
{"id":"nextjs-002","category":"nextjs-migration","phase":"phase-1","description":"Configure Tailwind CSS for Next.js","passes":true,"acceptance":["tailwind.config.js configured for Next.js paths","Global styles imported in layout.tsx","Existing Tailwind classes work correctly"],"dependencies":["nextjs-001"]}
{"id":"nextjs-003","category":"nextjs-migration","phase":"phase-1","description":"Move data files and set up folder structure","passes":true,"acceptance":["custodes.json moved to public/data/","tyranids.json moved to public/data/","Folder structure created: src/app, src/components, src/hooks, src/stores, src/lib, src/types"],"dependencies":["nextjs-001"]}
{"id":"nextjs-004","category":"nextjs-migration","phase":"phase-2","description":"Create TypeScript types for all data structures","passes":true,"acceptance":["Unit, Weapon, Ability, Enhancement types defined","ListUnit, CurrentList, GameState types defined","Detachment, Stratagem, ArmyData types defined","Types exported from src/types/index.ts"],"dependencies":["nextjs-003"]}
{"id":"nextjs-005","category":"nextjs-migration","phase":"phase-2","description":"Create Zustand store for army list state","passes":true,"acceptance":["useArmyStore created in src/stores/","Manages currentList, selectedArmy, detachment","Actions for add/remove/update units","Points calculation derived state"],"dependencies":["nextjs-004"]}
{"id":"nextjs-006","category":"nextjs-migration","phase":"phase-2","description":"Create Zustand store for game state","passes":true,"acceptance":["useGameStore created in src/stores/","Manages battleRound, commandPoints, activeStratagems","Manages wound tracking state","Actions for round advancement, CP changes"],"dependencies":["nextjs-004"]}
{"id":"nextjs-007","category":"nextjs-migration","phase":"phase-2","description":"Create Zustand store for UI state","passes":true,"acceptance":["useUIStore created in src/stores/","Manages mode (build/play), selectedUnitIndex","Manages modal states, toast notifications","Actions for mode switching, unit selection"],"dependencies":["nextjs-004"]}
{"id":"nextjs-008","category":"nextjs-migration","phase":"phase-2","description":"Create data loading hooks","passes":true,"acceptance":["useFactionData hook fetches and caches faction JSON","useSavedLists hook provides list/load/save/delete operations","Hooks handle loading and error states","Data fetched from /data/ endpoints"],"dependencies":["nextjs-004"]}
{"id":"nextjs-009","category":"nextjs-migration","phase":"phase-3","description":"Create atomic UI components","passes":true,"acceptance":["Badge, Button, Select components created","Stepper, Input, Card, Panel components created","StatCell, ProgressBar components created","Components use Tailwind, match existing styles"],"dependencies":["nextjs-002"]}
{"id":"nextjs-010","category":"nextjs-migration","phase":"phase-3","description":"Create weapon and stat display components","passes":true,"acceptance":["WeaponStatsTable component created","WoundIndicator component created","AccordionGroup component created","Components handle all weapon types and abilities"],"dependencies":["nextjs-009"]}
{"id":"nextjs-011","category":"nextjs-migration","phase":"phase-4","description":"Create Build Mode layout and container","passes":true,"acceptance":["BuildMode component with 3-column grid layout","PointsSummaryBar shows name, points, progress","ValidationErrors displays list errors","Layout matches existing Alpine.js design"],"dependencies":["nextjs-005","nextjs-007","nextjs-009"]}
{"id":"nextjs-012","category":"nextjs-migration","phase":"phase-4","description":"Create Build Mode left panel - Army List","passes":true,"acceptance":["ArmyListPanel component created","ListControls with import/load/save buttons","GameFormatSelector, PointsLimitSelector, DetachmentSelector","ListUnitCard with enhancement and weapon selectors"],"dependencies":["nextjs-011"]}
{"id":"nextjs-013","category":"nextjs-migration","phase":"phase-4","description":"Create Build Mode middle panel - Unit Roster","passes":true,"acceptance":["UnitRosterPanel component created","UnitSearchInput for filtering units","UnitAccordion groups units by type","RosterUnitRow shows unit info and add button"],"dependencies":["nextjs-011","nextjs-008"]}
{"id":"nextjs-014","category":"nextjs-migration","phase":"phase-4","description":"Create Build Mode right panel - Unit Details","passes":true,"acceptance":["UnitDetailsPanel component created","StatsTable shows unit stats with modifiers","WeaponsDisplay shows all unit weapons","AbilitiesDisplay shows unit abilities"],"dependencies":["nextjs-011","nextjs-010"]}
{"id":"nextjs-015","category":"nextjs-migration","phase":"phase-5","description":"Create Play Mode layout and container","passes":true,"acceptance":["PlayMode component with 3-column grid layout","Layout matches existing Alpine.js design","Mode toggle switches between Build and Play","Play Mode only accessible with valid list"],"dependencies":["nextjs-006","nextjs-007","nextjs-009"]}
{"id":"nextjs-016","category":"nextjs-migration","phase":"phase-5","description":"Create Play Mode left panel - Army Overview","passes":true,"acceptance":["ArmyOverviewPanel component created","PlayUnitCard shows unit with wounds and models alive","Units selectable to show details","Attached leaders shown with their units"],"dependencies":["nextjs-015"]}
{"id":"nextjs-017","category":"nextjs-migration","phase":"phase-5","description":"Create Play Mode middle panel - Game State","passes":true,"acceptance":["GameStatePanel component created","BattleRoundControl for round 1-5 tracking","CommandPointsControl for CP tracking","MartialKatahSelector for stance selection","StrategemsToggleList for stratagem activation"],"dependencies":["nextjs-015"]}
{"id":"nextjs-018","category":"nextjs-migration","phase":"phase-5","description":"Create Play Mode right panel - Selected Unit","passes":true,"acceptance":["SelectedUnitDetailsPanel component created","ModifiedStatsTable shows stats with modifier tooltips","DamageTracker for unit and leader wounds","PlayModeWeaponsDisplay with LoadoutGroupCard"],"dependencies":["nextjs-015","nextjs-010"]}
{"id":"nextjs-019","category":"nextjs-migration","phase":"phase-6","description":"Create weapon count and loadout hooks","passes":true,"acceptance":["useWeaponCounts hook manages weapon selections","Handles mutual exclusivity between choices","Validates maxModels constraints","Works with replacement and addition patterns"],"dependencies":["nextjs-005"]}
{"id":"nextjs-020","category":"nextjs-migration","phase":"phase-6","description":"Create leader attachment hooks","passes":true,"acceptance":["useLeaderAttachment hook manages leader state","getAvailableLeaders returns eligible leaders","attachLeader/detachLeader functions work correctly","Validates one leader per unit, one unit per leader"],"dependencies":["nextjs-005"]}
{"id":"nextjs-021","category":"nextjs-migration","phase":"phase-6","description":"Create stat modifier hooks","passes":true,"acceptance":["useStatModifiers hook collects all modifiers","Includes enhancement, weapon, and leader modifiers","Calculates modified stats correctly","Provides modifier source information for tooltips"],"dependencies":["nextjs-005","nextjs-019","nextjs-020"]}
{"id":"nextjs-022","category":"nextjs-migration","phase":"phase-6","description":"Create wound tracking hooks","passes":true,"acceptance":["useWoundTracking hook manages wound state","Calculates total wounds and models alive","Handles leader wounds separately","Resets wounds on new game"],"dependencies":["nextjs-006","nextjs-021"]}
{"id":"nextjs-023","category":"nextjs-migration","phase":"phase-6","description":"Create list validation hooks","passes":true,"acceptance":["useListValidation hook validates army list","Checks points limits","Validates Colosseum format rules","Validates leader attachment rules"],"dependencies":["nextjs-005","nextjs-020"]}
{"id":"nextjs-024","category":"nextjs-migration","phase":"phase-7","description":"Create navigation and army selector","passes":true,"acceptance":["Navigation component created","Army selector dropdown works","Mode toggle (Build/Play) works","Current list name displayed"],"dependencies":["nextjs-005","nextjs-007"]}
{"id":"nextjs-025","category":"nextjs-migration","phase":"phase-7","description":"Create Quick Reference panel","passes":true,"acceptance":["QuickReferencePanel component created","Shows detachment stratagems","Shows weapon ability definitions","Shows unit ability definitions","Collapsible sections"],"dependencies":["nextjs-008","nextjs-009"]}
{"id":"nextjs-026","category":"nextjs-migration","phase":"phase-7","description":"Create modals and overlays","passes":true,"acceptance":["ImportModal for Yellowscribe JSON import","LoadModal for saved lists selection","ToastNotification for user feedback","Modals have proper backdrop and close behavior"],"dependencies":["nextjs-009","nextjs-008"]}
{"id":"nextjs-027","category":"nextjs-migration","phase":"phase-8","description":"Create API routes for list management","passes":true,"acceptance":["GET /api/lists returns saved list filenames","POST /api/lists saves list to data/lists/","GET /api/lists/[filename] loads specific list","DELETE /api/lists/[filename] deletes list"],"dependencies":["nextjs-003"]}
{"id":"nextjs-028","category":"nextjs-migration","phase":"phase-8","description":"Integrate API routes with hooks","passes":true,"acceptance":["useSavedLists hook uses API routes","Save/load/delete operations work end-to-end","Error handling for API failures","Loading states shown during API calls"],"dependencies":["nextjs-027","nextjs-008"]}
{"id":"nextjs-029","category":"nextjs-migration","phase":"phase-9","description":"End-to-end testing and bug fixes","passes":true,"acceptance":["Can load Custodes and Tyranids data","Can add/remove units and select weapons","Points calculate correctly","Can save/load/delete lists","Play mode tracks wounds and stratagems"],"dependencies":["nextjs-012","nextjs-013","nextjs-014","nextjs-016","nextjs-017","nextjs-018","nextjs-028"]}
{"id":"nextjs-030","category":"nextjs-migration","phase":"phase-9","description":"Migrate existing saved lists and update documentation","passes":true,"acceptance":["Existing saved lists work with new app","CLAUDE.md updated for Next.js setup","Old Alpine.js references removed from docs","npm run build succeeds without errors"],"dependencies":["nextjs-029"]}
{"id":"nextjs-031","category":"nextjs-migration","phase":"phase-9","description":"Yellowscribe import and Colosseum validation","passes":true,"acceptance":["Yellowscribe JSON import works","Colosseum format validation works","Error messages display correctly","All validation rules enforced"],"dependencies":["nextjs-029","nextjs-023"]}
{"id":"multiuser-001","category":"multiuser","phase":"phase-1","description":"Add database schema for users and lists","passes":true,"acceptance":["Postgres or SQLite database configured","users table: id, email, name, google_id, created_at","lists table: id, user_id, name, army_id, data (jsonb), created_at, updated_at","Database migrations set up","Schema supports future companion apps sharing users"],"dependencies":["nextjs-030"]}
{"id":"multiuser-002","category":"multiuser","phase":"phase-1","description":"Add Google SSO authentication with NextAuth.js","passes":true,"acceptance":["NextAuth.js configured with Google provider","Sign in with Google button on app","User created in database on first login","Session persisted across page loads","Sign out functionality works"],"dependencies":["multiuser-001"]}
{"id":"multiuser-003","category":"multiuser","phase":"phase-2","description":"Migrate list storage from JSON files to database","passes":true,"acceptance":["Lists saved to database instead of JSON files","Lists loaded from database","List deletion removes from database","Existing JSON lists can be imported to user account"],"dependencies":["multiuser-001"]}
{"id":"multiuser-004","category":"multiuser","phase":"phase-2","description":"Scope API routes to authenticated user","passes":false,"acceptance":["API routes require authentication","Users can only access their own lists","Unauthenticated requests return 401","GET /api/lists returns only current user's lists"],"dependencies":["multiuser-002","multiuser-003"],"lockedBy":"scott.local-4445-1769140535","lockedAt":"2026-01-23T04:46:41Z"}
{"id":"multiuser-005","category":"multiuser","phase":"phase-3","description":"Add real-time infrastructure for companion apps","passes":false,"acceptance":["WebSocket or Server-Sent Events support added","Real-time updates can be broadcast to connected clients","Infrastructure ready for scoreboard companion app","Connection handles reconnection gracefully"],"dependencies":["multiuser-004"]}
{"id":"multiuser-006","category":"multiuser","phase":"phase-3","description":"Design shared user system for companion apps","passes":false,"acceptance":["Document architecture for game tracker app","Document architecture for spectator scoreboard","Define shared auth strategy across apps","Define real-time data flow between apps","Ready for companion app development"],"dependencies":["multiuser-005"]}
{"id":"ux-001","category":"ux-enhancements","phase":"phase-1","description":"Add Screen Wake Lock to prevent device sleep in Play Mode","passes":true,"acceptance":["Wake Lock API used to prevent screen sleep","Wake lock acquired when entering Play Mode","Wake lock released when exiting Play Mode","Gracefully handles browsers without Wake Lock support","Re-acquires lock when tab regains focus"],"dependencies":["nextjs-015"]}
{"id":"spacemarines-001","category":"spacemarines-data","phase":"phase-1","description":"Create spacemarines.json with Ultramarines faction metadata and army rules","passes":true,"acceptance":["public/data/spacemarines.json exists with faction: Space Marines","Army rule: Oath of Moment (re-roll hits and wounds vs one target per round)","Chapter: Ultramarines with Codex Discipline ability","lastUpdated set to current month"],"dependencies":[]}
{"id":"spacemarines-002","category":"spacemarines-data","phase":"phase-1","description":"Add Intercessor Squad battleline unit","passes":true,"acceptance":["Intercessor Squad with points for 5/10 models","Stats: M6 T4 SV3+ W2 LD6+ OC2","Bolt rifle options (standard, auto, stalker)","Bolt pistol and close combat weapon","Keywords include Infantry, Battleline, Imperium, Tacticus"],"dependencies":["spacemarines-001"]}
{"id":"spacemarines-003","category":"spacemarines-data","phase":"phase-1","description":"Add Assault Intercessor Squad battleline unit","passes":true,"acceptance":["Assault Intercessor Squad with points for 5/10 models","Stats: M6 T4 SV3+ W2 LD6+ OC2","Heavy bolt pistol and Astartes chainsword","Shock Assault ability","Keywords include Infantry, Battleline, Imperium, Tacticus"],"dependencies":["spacemarines-001"]}
{"id":"spacemarines-004","category":"spacemarines-data","phase":"phase-2","description":"Add Captain in Terminator Armour character","passes":true,"acceptance":["Captain with points for 1 model","Stats: M5 T5 SV2+ W6 LD6+ OC1 with 4+ invuln","Storm bolter and power weapon options","Leader ability with eligible bodyguard units","Keywords include Infantry, Character, Imperium, Terminator"],"dependencies":["spacemarines-001"]}
{"id":"spacemarines-005","category":"spacemarines-data","phase":"phase-2","description":"Add Primaris Lieutenant character","passes":true,"acceptance":["Lieutenant with points for 1 model","Stats: M6 T4 SV3+ W4 LD6+ OC1","Bolt pistol, master-crafted bolt rifle options","Tactical Precision ability (lethal hits)","Leader ability with eligible units","Keywords include Infantry, Character, Imperium, Tacticus"],"dependencies":["spacemarines-001"]}
{"id":"spacemarines-006","category":"spacemarines-data","phase":"phase-2","description":"Add Terminator Squad elite unit","passes":true,"acceptance":["Terminator Squad with points for 5/10 models","Stats: M5 T5 SV2+ W3 LD6+ OC1 with 4+ invuln","Storm bolter and power fist standard","Heavy weapon options (assault cannon, heavy flamer, cyclone)","Deep Strike ability","Keywords include Infantry, Imperium, Terminator"],"dependencies":["spacemarines-001"]}
{"id":"spacemarines-007","category":"spacemarines-data","phase":"phase-2","description":"Add Bladeguard Veterans elite unit","passes":true,"acceptance":["Bladeguard Veterans with points for 3/6 models","Stats: M6 T4 SV3+ W3 LD6+ OC1 with 4+ invuln","Master-crafted power sword and storm shield","Shields of the Imperium ability","Keywords include Infantry, Imperium, Tacticus"],"dependencies":["spacemarines-001"]}
{"id":"spacemarines-008","category":"spacemarines-data","phase":"phase-3","description":"Add Gladius Task Force detachment","passes":true,"acceptance":["Gladius Task Force with Combat Doctrines rule","Devastator, Tactical, Assault doctrine bonuses","6 stratagems including Only In Death Does Duty End, Armour of Contempt","4 enhancements including Artificer Armour, The Honour Vehement"],"dependencies":["spacemarines-001"]}
{"id":"spacemarines-009","category":"spacemarines-data","phase":"phase-4","description":"Enable Space Marines faction in app","passes":true,"acceptance":["Space Marines added to availableArmies in stores","App can load spacemarines.json without errors","Build Mode shows Space Marine units","At least 7 units available"],"dependencies":["spacemarines-002","spacemarines-003","spacemarines-004","spacemarines-005","spacemarines-006","spacemarines-007","spacemarines-008"]}
{"id":"chaosmarines-001","category":"chaosmarines-data","phase":"phase-1","description":"Create chaosmarines.json with Chaos Space Marines faction metadata and army rules","passes":true,"acceptance":["public/data/chaosmarines.json exists with faction: Chaos Space Marines","Army rule: Dark Pacts (take wounds to get Lethal Hits or Sustained Hits)","lastUpdated set to current month"],"dependencies":[]}
{"id":"chaosmarines-002","category":"chaosmarines-data","phase":"phase-1","description":"Add Legionaries battleline unit","passes":true,"acceptance":["Legionaries with points for 5/10 models","Stats: M6 T4 SV3+ W2 LD6+ OC2","Boltgun, bolt pistol, close combat weapon","Heavy weapon options (heavy bolter, missile launcher, lascannon)","Keywords include Infantry, Battleline, Chaos, Heretic Astartes"],"dependencies":["chaosmarines-001"]}
{"id":"chaosmarines-003","category":"chaosmarines-data","phase":"phase-1","description":"Add Cultist Mob battleline unit","passes":true,"acceptance":["Cultist Mob with points for 10/20 models","Stats: M6 T3 SV6+ W1 LD7+ OC1","Cultist firearm and brutal weapons","For the Dark Gods ability","Keywords include Infantry, Battleline, Chaos, Damned"],"dependencies":["chaosmarines-001"]}
{"id":"chaosmarines-004","category":"chaosmarines-data","phase":"phase-2","description":"Add Chaos Lord character","passes":true,"acceptance":["Chaos Lord with points for 1 model","Stats: M6 T4 SV3+ W5 LD6+ OC1","Bolt pistol, daemon hammer, plasma pistol options","Lord of Chaos aura ability","Leader ability with eligible units","Keywords include Infantry, Character, Chaos, Heretic Astartes"],"dependencies":["chaosmarines-001"]}
{"id":"chaosmarines-005","category":"chaosmarines-data","phase":"phase-2","description":"Add Dark Apostle character","passes":true,"acceptance":["Dark Apostle with points for 1 model","Stats: M6 T4 SV3+ W4 LD5+ OC1","Accursed crozius melee weapon","Prayers to the Dark Gods ability","Leader ability with eligible units","Keywords include Infantry, Character, Chaos, Heretic Astartes"],"dependencies":["chaosmarines-001"]}
{"id":"chaosmarines-006","category":"chaosmarines-data","phase":"phase-2","description":"Add Chosen elite unit","passes":true,"acceptance":["Chosen with points for 5/10 models","Stats: M6 T4 SV3+ W3 LD6+ OC1","Accursed weapons and bolt pistols","Heavy melee and ranged weapon options","Keywords include Infantry, Chaos, Heretic Astartes"],"dependencies":["chaosmarines-001"]}
{"id":"chaosmarines-007","category":"chaosmarines-data","phase":"phase-2","description":"Add Possessed elite unit","passes":true,"acceptance":["Possessed with points for 5/10 models","Stats: M9 T5 SV3+ W3 LD6+ OC1 with 5+ invuln","Hideous mutations melee weapon (A4 WS3+ S5 AP-2 D2)","Daemon keyword grants benefits","Keywords include Infantry, Chaos, Daemon, Heretic Astartes"],"dependencies":["chaosmarines-001"]}
{"id":"chaosmarines-008","category":"chaosmarines-data","phase":"phase-3","description":"Add Slaves to Darkness detachment","passes":true,"acceptance":["Slaves to Darkness with Eye of the Gods rule","Dark Pact enhancement bonuses","6 stratagems including Profane Zeal, Dark Obscuration","4 enhancements including Liber Hereticus, Talisman of Burning Blood"],"dependencies":["chaosmarines-001"]}
{"id":"chaosmarines-009","category":"chaosmarines-data","phase":"phase-4","description":"Enable Chaos Space Marines faction in app","passes":false,"acceptance":["Chaos Space Marines added to availableArmies in stores","App can load chaosmarines.json without errors","Build Mode shows CSM units","At least 7 units available"],"dependencies":["chaosmarines-002","chaosmarines-003","chaosmarines-004","chaosmarines-005","chaosmarines-006","chaosmarines-007","chaosmarines-008"],"lockedBy":"scott.local-71302-1769142612","lockedAt":"2026-01-23T04:47:54Z"}
{"id":"necrons-001","category":"necrons-data","phase":"phase-1","description":"Create necrons.json with Necrons faction metadata and army rules","passes":true,"acceptance":["public/data/necrons.json exists with faction: Necrons","Army rule: Reanimation Protocols (D3 wounds healed at Command phase)","lastUpdated set to current month"],"dependencies":[]}
{"id":"necrons-002","category":"necrons-data","phase":"phase-1","description":"Add Necron Warriors battleline unit","passes":true,"acceptance":["Necron Warriors with points for 10/20 models","Stats: M5 T4 SV4+ W1 LD7+ OC2","Gauss flayer and gauss reaper options","Their Number Is Legion ability","Keywords include Infantry, Battleline, Necrons"],"dependencies":["necrons-001"]}
{"id":"necrons-003","category":"necrons-data","phase":"phase-1","description":"Add Immortals battleline unit","passes":true,"acceptance":["Immortals with points for 5/10 models","Stats: M5 T5 SV3+ W1 LD7+ OC2","Gauss blaster and tesla carbine options","Keywords include Infantry, Battleline, Necrons"],"dependencies":["necrons-001"]}
{"id":"necrons-004","category":"necrons-data","phase":"phase-2","description":"Add Overlord character","passes":true,"acceptance":["Overlord with points for 1 model","Stats: M5 T5 SV2+ W6 LD6+ OC1 with 4+ invuln","Tachyon arrow, staff of light, voidscythe options","My Will Be Done ability","Leader ability with eligible units","Keywords include Infantry, Character, Necrons"],"dependencies":["necrons-001"]}
{"id":"necrons-005","category":"necrons-data","phase":"phase-2","description":"Add Royal Warden character","passes":true,"acceptance":["Royal Warden with points for 1 model","Stats: M5 T5 SV3+ W4 LD6+ OC1","Relic gauss blaster","Adaptive Strategy ability (Fall Back and shoot)","Leader ability with eligible units","Keywords include Infantry, Character, Necrons"],"dependencies":["necrons-001"]}
{"id":"necrons-006","category":"necrons-data","phase":"phase-2","description":"Add Lychguard elite unit","passes":true,"acceptance":["Lychguard with points for 5/10 models","Stats: M5 T5 SV3+ W2 LD7+ OC1 with 4+ invuln","Warscythe or hyperphase sword + shield options","Guardian Protocols bodyguard ability","Keywords include Infantry, Necrons"],"dependencies":["necrons-001"]}
{"id":"necrons-007","category":"necrons-data","phase":"phase-2","description":"Add Skorpekh Destroyers elite unit","passes":true,"acceptance":["Skorpekh Destroyers with points for 3/6 models","Stats: M8 T6 SV3+ W3 LD7+ OC1","Skorpekh hyperphase weapons (A4 WS3+ S6 AP-2 D2)","Devastating Wounds on charge","Keywords include Infantry, Necrons, Destroyer Cult"],"dependencies":["necrons-001"]}
{"id":"necrons-008","category":"necrons-data","phase":"phase-3","description":"Add Awakened Dynasty detachment","passes":false,"acceptance":["Awakened Dynasty with Command Protocols rule","Protocol bonuses each battle round","6 stratagems including Protocol of the Conquering Tyrant, Resurrection Orb","4 enhancements including Veil of Darkness, Sempiternal Weave"],"dependencies":["necrons-001"],"lockedBy":"scott.local-71302-1769142612","lockedAt":"2026-01-23T04:48:26Z"}
{"id":"necrons-009","category":"necrons-data","phase":"phase-4","description":"Enable Necrons faction in app","passes":false,"acceptance":["Necrons added to availableArmies in stores","App can load necrons.json without errors","Build Mode shows Necron units","At least 7 units available"],"dependencies":["necrons-002","necrons-003","necrons-004","necrons-005","necrons-006","necrons-007","necrons-008"]}
{"id":"orks-001","category":"orks-data","phase":"phase-1","description":"Create orks.json with Orks faction metadata and army rules","passes":true,"acceptance":["public/data/orks.json exists with faction: Orks","Army rule: Waaagh! (once per battle, +1 Strength, +1 Attack, +1 to charge)","lastUpdated set to current month"],"dependencies":[]}
{"id":"orks-002","category":"orks-data","phase":"phase-1","description":"Add Boyz battleline unit","passes":false,"acceptance":["Boyz with points for 10/20 models","Stats: M6 T5 SV5+ W1 LD7+ OC2","Slugga and choppa standard","Shootas option, big shoota and rokkit launcha options","Keywords include Infantry, Battleline, Orks, Mob"],"dependencies":["orks-001"],"lockedBy":"scott.local-71302-1769142612","lockedAt":"2026-01-23T04:48:33Z"}
{"id":"orks-003","category":"orks-data","phase":"phase-1","description":"Add Gretchin battleline unit","passes":false,"acceptance":["Gretchin with points for 10/20 models","Stats: M6 T2 SV7+ W1 LD8+ OC1","Grot blasta ranged weapon","Cowardly ability","Keywords include Infantry, Battleline, Orks, Gretchin"],"dependencies":["orks-001"],"lockedBy":"scott.local-71302-1769142612","lockedAt":"2026-01-23T04:48:39Z"}
{"id":"orks-004","category":"orks-data","phase":"phase-2","description":"Add Warboss character","passes":false,"acceptance":["Warboss with points for 1 model","Stats: M6 T6 SV4+ W7 LD6+ OC1 with 5+ invuln","Kombi-weapon, twin slugga, power klaw options","Waaagh! aura ability","Leader ability with eligible units","Keywords include Infantry, Character, Orks"],"dependencies":["orks-001"],"lockedBy":"scott.local-71302-1769142612","lockedAt":"2026-01-23T04:48:45Z"}
{"id":"orks-005","category":"orks-data","phase":"phase-2","description":"Add Weirdboy character","passes":false,"acceptance":["Weirdboy with points for 1 model","Stats: M6 T5 SV5+ W4 LD7+ OC1","Weirdboy staff melee weapon","Da Jump psychic ability (teleport unit)","Leader ability with eligible units","Keywords include Infantry, Character, Orks, Psyker"],"dependencies":["orks-001"],"lockedBy":"scott.local-71302-1769142612","lockedAt":"2026-01-23T04:48:51Z"}
{"id":"orks-006","category":"orks-data","phase":"phase-2","description":"Add Nobz elite unit","passes":false,"acceptance":["Nobz with points for 5/10 models","Stats: M6 T5 SV4+ W2 LD7+ OC1","Slugga and choppa standard","Big choppa, power klaw, kombi-weapon options","Keywords include Infantry, Orks, Mob"],"dependencies":["orks-001"],"lockedBy":"scott.local-71302-1769142612","lockedAt":"2026-01-23T04:48:57Z"}
{"id":"orks-007","category":"orks-data","phase":"phase-2","description":"Add Meganobz elite unit","passes":false,"acceptance":["Meganobz with points for 2/3/6 models","Stats: M5 T6 SV2+ W3 LD7+ OC1","Kustom shoota and power klaw standard","Kill saw and kombi-weapon options","Keywords include Infantry, Orks, Mega Armour"],"dependencies":["orks-001"],"lockedBy":"scott.local-71302-1769142612","lockedAt":"2026-01-23T04:49:03Z"}
{"id":"orks-008","category":"orks-data","phase":"phase-3","description":"Add Waaagh! Tribe detachment","passes":true,"acceptance":["Waaagh! Tribe with Get Stuck In rule","+1 Strength bonus when charging/charged","6 stratagems including Unbridled Carnage, Orks is Never Beaten","4 enhancements including Follow Me Ladz, Headwoppa's Killchoppa"],"dependencies":["orks-001"]}
{"id":"orks-009","category":"orks-data","phase":"phase-4","description":"Enable Orks faction in app","passes":false,"acceptance":["Orks added to availableArmies in stores","App can load orks.json without errors","Build Mode shows Ork units","At least 7 units available"],"dependencies":["orks-002","orks-003","orks-004","orks-005","orks-006","orks-007","orks-008"]}
